<?xml version="1.0" encoding="utf-8" ?>
<widget id="com.mendix.widget.web.barcodegenerator.BarcodeGenerator" pluginWidget="true" needsEntityContext="true" offlineCapable="true" xmlns="http://www.mendix.com/widget/1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mendix.com/widget/1.0/ ../node_modules/mendix/custom_widget.xsd">
    <name>Barcode Generator</name>
    <description>Generate barcodes and QR codes from a string input</description>
    <studioProCategory>Display</studioProCategory>
    <studioCategory>Display</studioCategory>
    <!-- <helpUrl>https://docs.mendix.com/appstore/widgets/barcode-generator</helpUrl> -->
    <properties>
        <propertyGroup caption="General">
            <propertyGroup caption="Data source">
                <property key="codeValue" type="attribute" required="true">
                    <caption>Dynamic value</caption>
                    <description>String to encode in the QR code</description>
                    <attributeTypes>
                        <attributeType name="String" />
                    </attributeTypes>
                </property>
                <property key="codeFormat" type="enumeration" required="true" defaultValue="CODE128">
                    <caption>Barcode Format</caption>
                    <description>Choose between QR or other barcode types</description>
                    <enumerationValues>
                        <enumerationValue key="CODE128">Barcode</enumerationValue>
                        <enumerationValue key="QRCode">QR Code</enumerationValue>
                        <enumerationValue key="Custom">Custom</enumerationValue>
                    </enumerationValues>
                </property>
                <property key="allowDownload" type="boolean" defaultValue="false">
                    <caption>Allow download</caption>
                    <description>Adds a download button</description>
                </property>
                <property key="downloadAriaLabel" type="string" required="false">
                    <caption>Button aria-label</caption>
                    <description />
                </property>
            </propertyGroup>
        </propertyGroup>
        <propertyGroup caption="Advanced">
            <propertyGroup caption="Advanced Barcode Settings">
                <property key="customCodeFormat" type="enumeration" required="true" defaultValue="CODE128">
                    <caption>Custom Format</caption>
                    <description>Choose between barcode types format</description>
                    <enumerationValues>
                        <enumerationValue key="CODE128">CODE128</enumerationValue>
                        <enumerationValue key="EAN13">EAN-13</enumerationValue>
                        <enumerationValue key="EAN8">EAN-8</enumerationValue>
                        <enumerationValue key="UPC">UPC</enumerationValue>
                        <enumerationValue key="CODE39">CODE39</enumerationValue>
                        <enumerationValue key="ITF14">ITF-14</enumerationValue>
                        <enumerationValue key="MSI">MSI</enumerationValue>
                        <enumerationValue key="pharmacode">Pharmacode</enumerationValue>
                        <enumerationValue key="codabar">Codabar</enumerationValue>
                        <enumerationValue key="CODE93">CODE93</enumerationValue>
                    </enumerationValues>
                </property>
                <property key="enableEan128" type="boolean" defaultValue="false">
                    <caption>EAN-128</caption>
                    <description>Enable encoding CODE128 as GS1-128/EAN-128</description>
                </property>
                <property key="enableFlat" type="boolean" defaultValue="false">
                    <caption>Flat</caption>
                    <description>Enable flat barcode, skip guard bars</description>
                </property>
                <property key="lastChar" type="string" required="false">
                    <caption>Last character</caption>
                    <description>Character after the barcode</description>
                </property>
                <property key="enableMod43" type="boolean" required="true" defaultValue="false">
                    <caption>Mod43</caption>
                    <description>For code 39 if used with modulo 43 check digit</description>
                </property>
            </propertyGroup>
            <propertyGroup caption="EAN Addons">
                <property key="addonFormat" type="enumeration" required="true" defaultValue="None">
                    <caption>Addon format</caption>
                    <description>Choose between EAN-5 or EAN-2 addon format</description>
                    <enumerationValues>
                        <enumerationValue key="None">None</enumerationValue>
                        <enumerationValue key="EAN5">EAN-5</enumerationValue>
                        <enumerationValue key="EAN2">EAN-2</enumerationValue>
                    </enumerationValues>
                </property>
                <property key="addonValue" type="attribute" required="true">
                    <caption>Addon value</caption>
                    <description>Value for the addon barcode (5 digits for EAN-5, 2 digits for EAN-2)</description>
                    <attributeTypes>
                        <attributeType name="String" />
                    </attributeTypes>
                </property>
                <property key="addonSpacing" type="integer" required="true" defaultValue="20">
                    <caption>Addon spacing</caption>
                    <description>Space between main barcode and addon (in pixels)</description>
                </property>
            </propertyGroup>
        </propertyGroup>
        <propertyGroup caption="Display">
            <property key="displayValue" type="boolean" defaultValue="false">
                <caption>Display value</caption>
                <description>Display the value below the code</description>
            </property>
            <property key="codeWidth" type="integer" required="true" defaultValue="2">
                <caption>Bar width</caption>
                <description>Width of a single bar</description>
            </property>
            <property key="codeHeight" type="integer" required="true" defaultValue="200">
                <caption>Code height</caption>
                <description>Height of the barcode</description>
            </property>
            <property key="codeMargin" type="integer" required="true" defaultValue="2">
                <caption>Margin size</caption>
                <description>In pixels</description>
            </property>
            <property key="qrSize" type="integer" required="true" defaultValue="128">
                <caption>QR Size</caption>
                <description>The size of the QR box</description>
            </property>
            <property key="qrMargin" type="integer" required="true" defaultValue="2">
                <caption>Margin size</caption>
                <description />
            </property>
            <property key="qrTitle" type="string" required="true">
                <caption>Title</caption>
                <description>Used for accessibility reasons</description>
            </property>
            <property key="qrLevel" type="enumeration" required="true" defaultValue="L">
                <caption>Level</caption>
                <description>The Error Correction Level to use</description>
                <enumerationValues>
                    <enumerationValue key="L">L</enumerationValue>
                    <enumerationValue key="M">M</enumerationValue>
                    <enumerationValue key="Q">Q</enumerationValue>
                    <enumerationValue key="H">H</enumerationValue>
                </enumerationValues>
            </property>
            <property key="qrImage" type="boolean" required="true" defaultValue="false">
                <caption>Image</caption>
                <description>Include an image on top the QR code</description>
            </property>
            <property key="qrImageSrc" type="image" required="true">
                <caption>Image source</caption>
                <description>URL or path to the image to display on the QR code</description>
            </property>
            <property key="qrImageCenter" type="boolean" required="true" defaultValue="true">
                <caption>Center image</caption>
                <description>Center the image in the QR code</description>
            </property>
            <property key="qrImageX" type="integer" required="true" defaultValue="0">
                <caption>Image X position</caption>
                <description>Horizontal position of the image</description>
            </property>
            <property key="qrImageY" type="integer" required="true" defaultValue="0">
                <caption>Image Y position</caption>
                <description>Vertical position of the image</description>
            </property>
            <property key="qrImageHeight" type="integer" required="true" defaultValue="24">
                <caption>Image height</caption>
                <description>Height of the image in pixels</description>
            </property>
            <property key="qrImageWidth" type="integer" required="true" defaultValue="24">
                <caption>Image width</caption>
                <description>Width of the image in pixels</description>
            </property>
            <property key="qrImageOpacity" type="decimal" required="true" defaultValue="1">
                <caption>Image opacity</caption>
                <description>Opacity of the image (0.0 to 1.0)</description>
            </property>
            <property key="qrImageExcavate" type="boolean" required="true" defaultValue="true">
                <caption>Excavate background</caption>
                <description>Remove QR code dots behind the image</description>
            </property>
        </propertyGroup>
    </properties>
</widget>
